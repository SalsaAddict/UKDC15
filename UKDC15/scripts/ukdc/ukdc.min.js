"use strict";var UKDC,ukdc;(function(n){var i=[{name:"Salsa On1",rgb:"170,255,170"},{name:"Salsa On2",rgb:"68,170,255"}],r,t;(function(n){var i=function(){function n(n,i,r){var u=this;this.$scope=n;this.$window=i;this.$modal=r;this.$currentDate=undefined;this.isCurrentDate=function(n){return u.$currentDate===n};this.setCurrentDate=function(n){u.$currentDate=n};this.$datepicker=!1;this.datepicker=function(n){n.preventDefault();n.stopPropagation();u.$datepicker=!0};this.save=function(){u.$window.localStorage.setItem("timetable",angular.toJson(u.$scope.timetable))};this.addDate=function(n){n.preventDefault();n.stopPropagation();var t={date:null,rooms:[],times:[]};u.$scope.timetable.dates.push(t);u.setCurrentDate(t)};this.removeDate=function(n){var t=u.$scope.timetable.dates.indexOf(n);t>=0&&u.$scope.timetable.dates.splice(t,1)};this.addRoom=function(n,t){t.preventDefault();t.stopPropagation();var i=n.rooms.length+1;n.rooms.push({name:"Room "+String(i)});angular.forEach(n.times,function(n){n.slots.push({style:null,split:!1,workshops:[]})})};this.moveRoomLeft=function(n,t,i){var r,u;i.preventDefault();i.stopPropagation();r=n.rooms.indexOf(t);r>=0&&(u=n.rooms[r-1],n.rooms[r-1]=n.rooms[r],n.rooms[r]=u,angular.forEach(n.times,function(n){var t=n.slots[r-1];n.slots[r-1]=n.slots[r];n.slots[r]=t}))};this.removeRoom=function(n,t,i){i.preventDefault();i.stopPropagation();var r=n.rooms.indexOf(t);r>=0&&(n.rooms.splice(r,1),angular.forEach(n.times,function(n){n.slots.splice(r,1)}))};this.addTime=function(n,t){t.preventDefault();t.stopPropagation();var i={time:null,slots:[]};angular.forEach(n.rooms,function(){i.slots.push({style:null,split:!1,workshops:[]})});n.times.push(i)};this.moveTimeUp=function(n,t,i){var r,u;i.preventDefault();i.stopPropagation();r=n.times.indexOf(t);r>=0&&(u=n.times[r-1],n.times[r-1]=n.times[r],n.times[r]=u)};this.removeTime=function(n,t,i){i.preventDefault();i.stopPropagation();var r=n.times.indexOf(t);r>=0&&n.times.splice(r,1)};this.editSlot=function(n,i,r,f){f.preventDefault();f.stopPropagation();var e=u.$modal.open({templateUrl:"templates/slot.html",resolve:{date:function(){return n.date},room:function(){return n.rooms[i.slots.indexOf(r)].name},time:function(){return i.time},slot:function(){return r}},controller:t.Controller,controllerAs:"ctrl"})};this.$scope.timetable=angular.fromJson(this.$window.localStorage.getItem("timetable"))||{dates:[]};this.$scope.timetable.dates.length>0&&this.setCurrentDate(this.$scope.timetable.dates[0])}return n.$inject=["$scope","$window","$modal"],n}();n.Controller=i})(r=n.Build||(n.Build={})),function(n){var t=function(){function n(n,t,r,u,f,e){this.$scope=n;this.$modalInstance=t;this.date=r;this.room=u;this.time=f;this.slot=e;this.styles=i}return n.$inject=["$scope","$modalInstance","date","room","time","slot"],n}();n.Controller=t}(t=n.Slot||(n.Slot={}))})(UKDC||(UKDC={}));ukdc=angular.module("ukdc",["ngRoute","ui.bootstrap"]);ukdc.config(["$routeProvider",function(n){n.when("/home",{caseInsensitiveMatch:!0,templateUrl:"views/home.html"}).when("/build",{caseInsensitiveMatch:!0,templateUrl:"views/build.html",controller:UKDC.Build.Controller,controllerAs:"ctrl"}).otherwise({redirectTo:"/home"})}]);
//# sourceMappingURL=ukdc.min.js.map
